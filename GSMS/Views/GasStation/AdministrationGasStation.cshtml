@{
    ViewBag.Title = "GasStation";
    @model GasStation
}



<div class="row">
    <div class="col-md-4">
        <h2>Remaining fuel ammount</h2>
        <div class="progress">
            <div class="progress-bar" role="progressbar" aria-valuenow="@((Model.EstimatedFuelQuantity/Model.TotalTankSize)*100)"
                 aria-valuemin="0" aria-valuemax="100" style="width:@((Model.EstimatedFuelQuantity/Model.TotalTankSize)*100)%">
                <span>@Model.EstimatedFuelQuantity / @Model.TotalTankSize</span>
            </div>
        </div>
    </div>
    <div class="jumbotron">
    </div>
    <div class="col-md-4">
        <h2>Refill History</h2>
        <table id="refilHistory" class="historyTable">
            <tr>
                <th>Quantity</th>
                <th>Date</th>
            </tr>
            @foreach (RefillHistory i in Model.RefillHistories)
            {
                <tr>
                    <td>@i.Quantity</td>
                    <td>@i.Datetime</td>
                </tr>
            }
        </table>
    </div>
    <div class="col-md-4">
        <h2>Request refill</h2>
        <section id="refillForm">
            @using (Html.BeginForm("refill", "GasStation", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Get, new { @class = "form-horizontal", role = "form" }))
            {
                <div class="form-group">
                    <input class="form-control" type="number" name="refillQuantity" value="" placeholder="Quantity needed" />
                </div>
                <div class="form-group">
                    <div class="col-md-offset-0">
                        <input type="submit" value="Refill&raquo;" class="btn btn-default" />
                    </div>
                </div>
            }
        </section>
    </div>
    <div class="col-md-4">
        <h2>Serve User</h2>
        <section id="serveUserForm">
            @using (Html.BeginForm("serveUser", "GasStation", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Get, new { @class = "form-horizontal", role = "form" }))
            {
                <div class="form-group">
                    <input class="form-control" type="text" name="userName" value="" placeholder="Citizen name" />
                </div>
                <div class="form-group">
                    <input class="form-control" type="number" name="serveUserQuantity" value="" placeholder="Quantity to serve" />
                </div>
                <div class="form-group">
                    <div class="col-md-offset-0">
                        <input type="submit" value="Refill&raquo;" class="btn btn-default" />
                    </div>
                </div>
            }
        </section>
    </div>

    <div class="col-md-4">
        <h2>Transaction History</h2>
        <table id="transactionHistory" class="historyTable">
            <tr>
                <th>Citizen</th>
                <th>Quantity</th>
                <th>Date</th>
            </tr>
            @foreach (TransactionHistory i in Model.TransactionHistories)
            {
                <tr>
                    <td>@i.Citizen.Name</td>
                    <td>@i.Quantity</td>
                    <td>@i.Datetime</td>
                </tr>
            }
        </table>
    </div>

</div>